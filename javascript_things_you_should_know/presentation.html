<!doctype html>
<html lang="nl">
  <head>
    <meta charset="utf-8">

    <title>Javascript</title>
    <meta name="description" content="
      JavaScript (JS) is a dynamic computer programming language.[5] It is most commonly used as part of web browsers, whose implementations allow client-side scripts to interact with the user, control the browser, communicate asynchronously, and alter the document content that is displayed.[5] It is also being used in server-side network programming (with Node.js), game development and the creation of desktop and mobile applications.
    ">
    <meta name="author" content="Robbie Bardijn">
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

    <link rel="stylesheet" href="css/reveal.css">
    <link rel="stylesheet" href="css/theme/night.css" id="theme">
    <link rel="stylesheet" href="lib/css/zenburn.css">

    <!-- If the query includes 'print-pdf', include the PDF print sheet -->
    <script>
      if( window.location.search.match( /print-pdf/gi ) ) {
        var link = document.createElement( 'link' );
        link.rel = 'stylesheet';
        link.type = 'text/css';
        link.href = 'css/print/pdf.css';
        document.getElementsByTagName( 'head' )[0].appendChild( link );
      }
    </script>

    <!--[if lt IE 9]>
      <script src="lib/js/html5shiv.js"></script>
    <![endif]-->
  </head>

  <body>
    <div class="reveal">
      <div class="slides">
                  <section>
  <h1>JavaScript</h1>
  <h3>Things you should know</h3>
  <p>
    <small>Created by <a href="https://github.com/rob-bar/">Robbie Bardijn</a></small>
  </p>

  <aside class="notes">
    <ul>
      <li>Wie vind javascript een coole en goede taal?</li>
      <li>Wie weet wat ecmascript is?</li>
      <li>Zijn er mensen die al met node hebben gewerkt?</li>
      <li>Zijn er mensen die al javascript gebruikt hebben om met een db te communiceren?</li>
      <li>Zijn er mensen die al met html5 canvas element iets gedaan hebben?</li>
    </ul>
  </aside>
</section>

<section>
  <h2>Topics:</h2>
  <ul>
    <li style="padding: 2px 0;" class="fragment fade-in">History <small>(ECMA Script, Standardisations, a glance at the future)</small></li>
    <li style="padding: 2px 0;" class="fragment fade-in">Browser engines <small>(Comparison & recap, documentation & reference)</small></li>

    <li style="padding: 22px 0 2px;" class="fragment fade-in">Good parts <small>(The power of JS)</small></li>
    <li style="padding: 2px 0;" class="fragment fade-in">Bad parts <small>(Things you should NOT use)</small></li>
    <li style="padding: 2px 0;" class="fragment fade-in">JSHint <small>(How to identfy those bad parts)</small></li>

    <li style="padding: 22px 0;" class="fragment fade-in"><strong>(BREAK)</strong></li>

    <li style="padding: 22px 0;" class="fragment fade-in">Minty code <small>(Repetition elimination, complex ifelse logic, deferreds, tenplating)</small></li>
  </ul>
</section>

<section>
  <h2 style="line-height: 1.2em">Javascript is one of the world's <a>most popular</a> and <a>most hated</a> <br> programming language at the same time.</h2>
  <aside class="notes">
    <ul>
      <li>Desondanks het feit dat javascript populairder is geworden de laatste jaren is het wel nog steeds de meest misbegrepen taal die er bestaat.</li>
      <li>Veel developers die volwaardige talen beheersen zoals php, ruby of java worden opgelegd door de browser om de taal op te nemen en te beheersen.</li>
      <li>Het feit dat Javascript in verschillende omgevingen draait en dus sommige features wel of niet heeft of soms anders reageerd dan verwacht, zorgt voor zeer veel frustratie bij veel developers.</li>
      <li>Het feit dat javascript op twee weken gemaakt is zal er ook geen goed aan gedaan hebben.</li>
      <li>
        Javascript heeft wel een zeer grote populariteitsboost gekregen bij de komst van nodejs.
        als js met 1 taal heel je development stack kan coderen is dat wel een zeer krachtig iets.
      </li>
    </ul>
  </aside>
</section>

<section>
  <h2>Influences</h2>

  <br><br>
  <ul>
    <li><strong>Self</strong></li>
    <ul style="padding: 10px 0 0 0;">
      <li>prototypal inheritance</li>
      <li>dynamic objects</li>
    </ul>
  </ul>


  <ul>
    <li><strong>Java</strong></li>
    <ul style="padding: 10px 0 0 0;">
      <li>syntax</li>
      <li>conventions</li>
    </ul>
  </ul>

  <br><br>
  <br>

  <ul style="width: 350px;">
    <li><strong>Scheme</strong></li>
    <ul style="padding: 10px 0 0 0;">
      <li>lambda</li>
      <li>loose typing </li>
    </ul>
  </ul>


  <ul style="width: 200px;position: relative; top: -40px">
    <li><strong>Perl</strong></li>
    <ul style="padding: 10px 0 0 0;">
      <li>regexp</li>
    </ul>
  </ul>
</section>
                  <section>
  <section>
    <h2>19 years of History</h2>
    <h3>
      1995 <br>
      <small> Invented by <a href="http://en.wikipedia.org/wiki/Brendan_Eich">Brendan Eich</a>, <a href="https://www.youtube.com/watch?v=aZqhRICne_M">see</a> in action</small>
    </h3>

    <h3>
      1996 <br>
      <small> ECMA-262, standardisation began</small>
    </h3>

    <h3>
      1997 <br>
      <small> Microsoft used JScript so <a>ECMA script 1</a> had to be made</small>
    </h3>

    <h3>
      1998 <br>
      <small> <a>ECMA script 2</a> followed with minor editorial changes</small>
    </h3>

    <aside class="notes" style="width:100%">
      <ul>
        <li>Javascript is uitgevonden door Brendan Eich in 1995, implementeerde het in netscape, het kreeg een aantal namen , livescript, Mocha.</li>
        <li>Standaarden volgde snel omdat andere browsers ook javascript begonnen te gebruiken</li>
        <li>ES2 had een aantal kleine wijzigingen en toevoegingen.</li>
      </ul>
    </aside>

  </section>

  <section>
    <h2>19 years of History</h2>
    <h3>
      1999 <br>
      <small> <a>ECMA script 3</a></small><br>
      <small>Legacy browsers like ie8 use this</small>
    </h3>
    <h3>
      Unknown <br>
      <small> <a>ECMA script 4</a> abandoned due to political differences</small>
    </h3>
    <h3>
      2009 <br>
      <small> <a>ECMA script 5</a></small><br>
      <small>adds strict mode and adds some new features</small>
    </h3>

    <aside class="notes">
      <ul>
        <li>ES3 zit nu vooral nog in de legacy browsers. ik denk aan ie8 etc.</li>
        <li>ES3 voegde reguliere expresies, bettere string afhandeling, nieuwe control statements, try/catch error handling toe.</li>
        <li>ES4 werd verlaten omdat er teveel politieke meningen mee gemoeid waren.
        Veel van de features zijn gedroped en veel features zijn nu doorgevoerd in es6 harmony, zoals modules..</li>
        <li>ES5 is nu in alle moderne browsers geimplementeerd: Dingen zoals JSON, strict mode, Array.prototype.forEach etc </li>
        <li>strict mode = Strict Mode is a new feature in ECMAScript 5 that allows you to place a program, or a function, in a "strict" operating context. This strict context prevents certain actions from being taken and throws more exceptions.</li>
      </ul>
    </aside>
  </section>

  <section>
    <h2>19 years of History</h2>
    <h3>
      18 juli, 2014 <a href="http://people.mozilla.org/~jorendorff/es6-draft.html">draft</a> <br>
      <small> <a>ECMA script 6</a></small><br>
      <small>Adds better code support for writing front-end apps.</small>
    </h3>

    <h3>
      Unknown <br>
      <small> <a>ECMA script 7</a></small><br>
      <small>Early stage of development</small>
    </h3>

    <aside class="notes">
      <ul>
        <li>Browsers zijn vollop bezig met features uit ES6 te implementeren, de spec is er nu moeten de browsers nog volgen.</li>
        <li>Hot topics zijn: const, modules, for of vs for in, arrow function.</li>
        <li>ES7 zal verder bouwen op es6: topics zullen taalhervorming, code isolatie en verbetring zijn.</li>
      </ul>
    </aside>
  </section>

  <section>
    <h2>Browser Rendering engines</h2><br>
    <h4>Chrome 28+ and Opera 15+</h4>
    <p>uses <a href="http://en.wikipedia.org/wiki/Blink_%28layout_engine%29">Blink</a>, a fork of <a href="http://nl.wikipedia.org/wiki/WebKit">webkit</a> uses the <a href="http://en.wikipedia.org/wiki/V8_%28JavaScript_engine%29">V8</a> Javascript engine</p>

    <h4>Internet explorer</h4>
    <p>uses <a href="http://en.wikipedia.org/wiki/Trident_%28layout_engine%29">Trident</a> that uses <a href="http://en.wikipedia.org/wiki/Chakra_%28JScript_engine%29">Chakra</a> Jscript engine</p>

    <h4>Firefox</h4>
    <p>uses <a href="http://en.wikipedia.org/wiki/Gecko_%28layout_engine%29">Gecko</a> that uses <a href="http://en.wikipedia.org/wiki/SpiderMonkey_%28JavaScript_engine%29">Spidermonkey</a> Javascript engine</p>

    <h4>Safari</h4>
    <p>uses <a href="http://en.wikipedia.org/wiki/Gecko_%28layout_engine%29">Webkit2</a> build on top of webkit that uses <a href="http://en.wikipedia.org/wiki/WebKit#JavaScriptCore">JavascriptCore</a> Javascript engine</p>

    <h4><a href="http://en.wikipedia.org/wiki/List_of_ECMAScript_engines">full list</a></h4>

    <aside class="notes">
      <ul>
        <li>Dus wij moeten ervoor zorgen dat onze websites werken in 4 verschillende layout engines, die dan ook hun eigen js engine hebben.</li>
        <li>Diegene die zegt dat chrome en safari dezelfde engine(WEBKIT) hebben is fout.</li>
      </ul>
    </aside>
  </section>

  <section>
    <h2>Indeed!</h2>
  </section>

  <section>
    <img src="http://www.evilenglish.net/wp-content/uploads/2014/05/305908d1359615600-madejski-miracle-wtf-shit_640_417_s_c1_center_top_0_0.jpg" alt="WTF">
  </section>

  <section>
    <h2>What can I use in browser X?</h2>
    <h4>Can I use <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/forEach">Array.forEach(callback[, thisArg])</a>?</h4>
    <h4>Can I use <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON">JSON</a>?</h4>
    <h4>Can I use <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/keys">Object.keys()</a>?</h4>
  </section>

  <section>
    <h2>The answer</h2>
    <h4>Helper libraries <br>(<a href="http://jquery.com/">jQuery</a>, <a href="http://underscorejs.org/">Underscorejs</a>, <a href="http://requirejs.org/">requireJS</a>)</h4>
    <h4>Shims <br>(<a href="https://github.com/es-shims/es5-shim">Es5-shim</a>, <a href="https://github.com/paulmillr/es6-shim/">Es6-shim</a>)</h4>
    <h4>Polyfills</h4>
  </section>

  <section>
    <h2>The reference</h2>
    <h4>ECMASCRIPT tables <br>(<a href="http://kangax.github.io/compat-table/es5/#">ES5</a>, <a href="http://kangax.github.io/compat-table/es6/#">ES6</a>)</h4>
    <h4>Mozilla documentation <br>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference">js reference</a>)</h4>
    <aside class="notes">
      <ul>
        <li>De javascript documetatie van mozila is dezelfde als die uit dash.(TONEN)</li>
      </ul>
    </aside>
  </section>
</section>


<section>
  <h2>First questions?</h2>
</section>

<section>
  <h2>So Javascript</h2>
  <h3>Should you know everything? </h3>

  <br><br>

  <h1 class="fragment fadein">No</h1>
  <h2 class="fragment fadein">not everything</h2>
  <aside class="notes">
    <ul>
      <li>Er is immens veel te leren als het over javascript gaat, om dan nog niet te beginnen over alles wat bovenop javascript is gebouwd.</li>
      <li>Meestal zul je een soort mix van vanila javascript en een library of framework gaan gebruiken, de bedoeling is dan dat je je plan kunt trekken, je weet hoe het framework werkt, maar je zal ook moeten weten hoe je je code goed moet opbouwen.</li>
      <li>In ieder geval vanila javascript kennen en beheersen zorgt ervoor dat je geen beginnersfouten maakt en het geeft je een beter beeld hoe zo een framework als jquery of nodejs is opgebouwd.</li>
      <li>Zo kun je sneller errors spotten en betere apps maken</li>
      <li>In het volgende stuk gaan we iets dieper gaan kijken naar de goede en slechte delen in de spec / syntax</li>
    </ul>
  </aside>
</section>
                  <section>
  <section>
    <h2>Good parts</h2>
    <ul>
      <li style="padding: 2px 0;" class="fragment fade-in">Loose typing</li>
      <li style="padding: 2px 0;" class="fragment fade-in">Functions</li>
      <li style="padding: 2px 0;" class="fragment fade-in">Expressive object literal</li>
      <li style="padding: 2px 0;" class="fragment fade-in">Dynamic objects</li>
      <li style="padding: 2px 0;" class="fragment fade-in">Function scope / closure</li>
    </ul>

    <aside class="notes">
      <ul>
        <li>Loose typing in de browser is een goed ding, vergelijkbaar dus met php.</li>
        <li>Functies als eerste klas objecten.</li>
        <li>De mannier waarop javascript objecten worden gevormd, vergelijkbaar en deels overgenomen uit JSON.</li>
        <li>Dynamische objecten, aanpassen van objecten is een makkie.</li>
        <li>In Javascript hebben we functio scope en closures.</li>
      </ul>
    </aside>
  </section>

  <section>
    <h2>Loose typing</h2>
    <ul>
      <li>Primitives: <a>Number</a>, <a>Boolean</a>, <a>String</a>.</li>
      <li>Objects: <a>Object</a>, <a>Function</a>, <a>Array</a>, <a>Date</a>, <a>RegExp</a>, etc.</li>
      <li>Special cases: <a>Null</a>, <a>Undefined</a>, <a>NaN</a>.</li>
    </ul>
    <br><br>
    <pre><code data-trim contenteditable>
var a = 13; // Number declaration
var b = "beee"; // String declaration
var c = true; // Boolean declaration
var d = []; // Array declaration
var e = {}; // Object declaration
var f = function(){}; // Function declaration
    </code></pre>
    <br>

    <aside class="notes">
      <ul>
        <li>Onder te verdelen in 3 grote groepen</li>
        <li>Loosely typed wil gewoon zeggen dat elke variabele in javascript automatisch een type krijgt, je hoeft niet te zeggen wat je variabele zal zijn.</li>
        <li>De compiler detecteerd welk type je declareerd.</li>
      <ul>
    </aside>
  </section>

  <section>
    <h2>Functions as first class objects</h2>
    <ul>
      <li>Instance of the Object type</li>
      <li>Store in a variable</li>
      <li>As a parameter to another function</li>
      <li>Return a function from another function</li>
    </ul>

    <aside class="notes">
      <ul>
        <li>Een functie in javascript is een instantie van een object.</li>
        <li>Je kan functies opslaan in variabelen</li>
        <li>Je kan functies doorgeven aan functies</li>
        <li>Je kan functies terug geven vanuit functies</li>
      </ul>
    </aside>
  </section>

  <section>
    <h2>Functions as first class objects</h2>

    <pre><code data-trim contenteditable>
var myBarFunc = function test(foo) {
  foo += 1;
  return foo;
};

var getKeys = function(obj){
Object.getOwnPropertyNames(obj).forEach(function(val, idx, array) {
  console.log(val + " -> " + obj[val]);
});
};
// consoles
// "prototype -> [object Object]"
// "length -> 1"
// "name -> test"

getKeys(myBarFunc);

    </code></pre>
  </section>

  <section>
    <h2>Expressive object literal</h2>
    <pre><code data-trim contenteditable>
var person = {
  firstName: "John",
  lastName: "Doe",
  gunType: "Revolver",
  sayHi: function() {
    console.log("Howdy");
  }
};
    </code></pre>
  </section>

  <section>
    <h2>Dynamic objects</h2>
    <pre><code data-trim contenteditable>
var person = {
  firstName: "John",
  lastName: "Doe",
  gunType: "Revolver",
  sayHi: function() {
    console.log("Howdy");
  }
};

console.log(person.firstName + " " + person.lastName); //GET
person.sayHi(); //GET
person.gunType = "Shotgun"; //SET = update key
person["shoe-type"] = "Cowboy Boots"; //Other Notation
person.fireGun = function() {
  console.log("BAM");
}; //SET = create key

person.fireGun(); //GET
delete person.fireGun; //REMOVE
    </code></pre>
  </section>
  <section>
    <h2>Function scope</h2>
    <pre><code data-trim contenteditable>
var foo = function() {
  var a = 3, b = 5;

  var bar = function() {
    var b = 7, c = 11;
    /// At this point, a is 3, b is 7 and c is 11

    a += b + c;
    // At this point, a is 21, b is 7 and c is 11
  };
  // At this point, a is 3, b is 7 and c is undefined

  bar();
  // At this point, a is 21, b is 5

}
    </code></pre>

    <aside class="notes">
      <ul>
        <li>Scope zorgt voor de zichtbaarheid en duurbaarheid van variabelen en parameters</li>
        <li>Scope reduceerd ook naam overlapping en scope zorgt ook voor memory management</li>
        <li>Ziet iemand hier een error</li>
      </ul>
    </aside>
  </section>
  <section>
    <h2>Closure</h2>

    <pre><code data-trim contenteditable>
function foo(x) {
  var tmp = 3;
  return function (y) {
    alert(x + y + (++tmp)); // will also alert 16
  }
}

var bar = foo(2); // bar is now a closure.
bar(10);
/////////// another example ///////////

var quo = function(status) {
  return { // return an object
      get_status: function() {
      return status; // access status from outer function
    }
  }
}

var myQuo = quo("amazed");
console.log(myQuo.get_status()); // outputs amazed
    </code></pre>

    <aside class="notes">
      <ul>
        <li>Van zodra je het function keyword in een anderer function ziet, dan heeft de binnenste functie toegang tot de buitenste functie zijn context</li>
        <li>closure werkt ook goed samen met this</li>
      </ul>
    </aside>
  </section>
</section>

                  <section>
  <section>
    <h2>Bad parts</h2>
    <ul>
      <li style="padding: 2px 0;" class="fragment fade-in">Type coercion equality operators <small>(FROM JAVA)</small></li>
      <li style="padding: 2px 0;" class="fragment fade-in">typeof</li>
      <li style="padding: 2px 0;" class="fragment fade-in">Global variables</li>
      <li style="padding: 2px 0;" class="fragment fade-in">Adding vs concatenating <small>(FROM JAVA)</small></li>
      <li style="padding: 2px 0;" class="fragment fade-in">Auto semicolon insertion</li>
      <li style="padding: 2px 0;" class="fragment fade-in">parseInt</li>
      <li style="padding: 2px 0;" class="fragment fade-in">Phony arrays</li>
      <li style="padding: 2px 0;" class="fragment fade-in">Reserved words</li>
      <li style="padding: 2px 0;" class="fragment fade-in">Too many falsy values</li>
    </ul>

    <aside class="notes">
      <ul>
        <li>Ok, over naar de slechte delen van javascript, hou u vast want het zijn er veel.</li>
        <li>De type coecion equality operators zijnde dus de dubbel is gelijk aan en het uitroeptkene is gelijkaan</li>
        <li>typeof is een operator die het type van iets teruggeeft vrij straightforward maar deze geeft soms rare zaken terug</li>
        <li>dan toevoegen en concateneren is hetzelfde teken in tegensteling met php</li>
        <li>parseint is een functie die een string kan omzetten naar een integer</li>
        <li>Arrays in javascript zijn eigenlijk hashtables, maw objecten</li>
        <li>In Javascript heb je een lange lijst met reserved words die je niet mag gebruiken als naam, vrij moeilijk te spotten errors</li>
        <li>In js kun je op teveel manieren false omschrijven false, null, undefined, NaN, 0, ""</li>
      <ul>
    </aside>
  </section>

  <section>
    <h2>type coercion == and !=</h2>
    <pre><code data-trim contenteditable>
"" == "0" // false
0 == "" // true
0 == "0" // true
false == "false" // false
false == "0" // true
false == undefined // false
false == null // false
null == undefined // true
" \t\r\n" == 0 // true
"abc" == new String("abc") // true ANTIPATERN

// BAD
var name = object[namekey];
if (name == null) { // two errors that cancel each other out
  console.log("Name not found.");
}
// GOOD
var name = object[namekey];
if (name === undefined) {
  console.log("Name not found.");
}

    </code>
  </pre>
  </section>
  <section>
    <h2>typeof</h2>
    <pre>
      <code data-trim contenteditable>
// Numbers
typeof 37 === 'number';
typeof 3.14 === 'number';
typeof Math.LN2 === 'number';
typeof Infinity === 'number';
typeof NaN === 'number'; // Despite being "Not-A-Number"
typeof Number(1) === 'number'; // but never use this form!


// Strings
typeof "" === 'string';
typeof "bla" === 'string';
typeof (typeof 1) === 'string'; // typeof always return a string
typeof String("abc") === 'string'; // but never use this form!


// Booleans
typeof true === 'boolean';
typeof false === 'boolean';
typeof Boolean(true) === 'boolean'; // but never use this form!

// Undefined
typeof undefined === 'undefined';
typeof blabla === 'undefined';

// Functions
typeof function(){} === 'function';
typeof Math.sin === 'function';

// Objects
typeof {a:1} === 'object';
typeof new Date() === 'object';


// The weirdness begins
// DO NOT USE
typeof new Boolean(true) === 'object';
typeof new Number(1) === 'object';
typeof new String("abc") === 'object';

typeof [1, 2, 4] === 'object'; // HOW DO WE TEST FOR ARRAYNESS
typeof NaN === "number" // SAY WHUT?
typeof null === "object";

      </code>
    </pre>

    <aside class="notes">
      <ul>
        <li>typeof doet het wel vrij goed over het algemeen, toch zeker voor de eerste groep primitieven.</li>
        <li>Maar als we naar objecten en speciale gevallen gaan kijken valt typeof wel door de mand.</li>
      <ul>
    </aside>
  </section>

  <section>
    <h2>Global variables</h2>

    <pre>
      <code data-trim contenteditable>
var foo = value; // outside of any scope
window.foo = value; // anywhere in the code
foo = value; // anywhere in the code IMPLIED GLOBAL

(function () {
    var not_a_global = 1;
    alert(not_a_global);
})();
      </code>
    </pre>

    <aside class="notes">
      <ul>
        <li>Misschien zijn globale variabelen wel de slechtste feature van javascript.</li>
        <li>Het gebruik maken van teveel globale variabelen maakt je programma of u website onbetrouwbaar.</li>
        <li>Er zijn drie manniere om globale variabelen te maken, 1 die zeer lastig is om te onderscheppen.</li>
        <li>Voorbeelden van globale variabelen zijn: het dolar teken van jquery en jquery zelf, underscore, het drupal object, etc.</li>
        <li>Om globale variabelen te reduceren kun je gebruik maken van lamda funcitons.</li>
      <ul>
    </aside>
  </section>

  <section>
    <h2>+ Adds and concatenates</h2>
    <pre>
      <code data-trim contenteditable>
var a = 10;
var b = 20;
console.log("result is " + a + b);
// RESULT IS 1020

// fast solution
console.log("result is " + (a + b));
// RESULT IS 30
      </code>
    </pre>
    <aside class="notes">
      <ul>
        <li>In JAVA is dat geen probleem omdat dat een typeerror throwed.</li>
        <li>IN Javascript is het geen error, de compiler zorgt voor de meest logishe oplossing.</li>
        <li>Maar in sommige gevallen is de meest logische oplossing niet de gewenste of verwachte oplossing.</li>
      <ul>
    </aside>

  </section>
  <section>
    <h2>Auto semicolon insertion</h2>
    <pre>
      <code data-trim contenteditable>
// AT THE END OF A FUNCTION FOR EXAMPLE
// Style isn't subjective in JS
return
{
  status: true
};

// BECOMES
return ; //SEMICOLON INSERTION
{
  status: true;
}

// SILENT ERROR!!!

// good style example
var myFunc = function foo(par1, par2) {
  if(par2 === undefined) {

    return "par2 is undefined";
    par2 = "Ok";
  } else {

    return "par2 is defined";
  }

  return "Bar";
};

      </code>
    </pre>

    <aside class="notes">
      <ul>
        <li>De javascript compilers hebben een feature ingebouwd die ervoor zorgt dat er automatish semicolons worden toegevoegd wanneer de compiler denkt dat er 1 hoeft te staan.</li>
        <li>In dit voorbeeld is dit zeker niet gewenst.</li>
        <li>Er wordt een stuk code gewoon genegeerd door die semicolon insertion.</li>
        <li>Onderaan vind je een voorbeeld.</li>
        <li>Een goede raad die ik kan meegeven is: goeie indentering en witruimte op de juiste plaatsen en eventueel linebreaks.</li>
        <li>Shorthands zoals ifs enzo vermijden</li>
      <ul>
    </aside>
  </section>

  <section>
    <h2>parseInt</h2>
    <pre>
      <code data-trim contenteditable>
/// ALL RETURN 15
parseInt(" 0xF", 16);
parseInt(" F", 16);
parseInt("17", 8);
parseInt(021, 8);
parseInt("015", 10);
parseInt(15.99, 10);
parseInt("FXX123", 16);
parseInt("1111", 2);
parseInt("15*3", 10);
parseInt("15e2", 10);
parseInt("15px", 10);
parseInt("12", 13);

parseInt("16"); // 16
parseInt("16 ton"); // 16

parseInt("0e0"); // 0
parseInt("08"); // 0, '8' is not an octal digit.
parseInt("09"); // 0, '8' is not an octal digit.
parseInt("027"); // 23
parseInt("011"); // ?
parseInt("0111"); // ? :D
      </code>
    </pre>

    <aside class="notes">
      <ul>
        <li>parseInt is een functie in javascript die een string kan omvormen in een nummer</li>
        <li>De eerste parameter van die functie is een string en de tweede is een radix. vb 10, 8, 16</li>
        <li>De functie stopt wanneer het een letter ziet</li>
        <li>in ecma script 3 is deze functie zijn 2de parameter default 10, maar wanneer de string begint met 0 wordt dat omgezet naar 8, wat dus rare resultaten kan geven, zeker als je met datums werkt bijvoorbeeld.</li>
      <ul>
    </aside>
  </section>

  <section>
    <h2>Phony arrays</h2>
    <pre>
      <code data-trim contenteditable>
var myArray = [1, 2, 3];

//WRONG WAY
if(typeof myArray === 'array') {
  // NOT ENTERED
}

//RIGHT WAY
if(Object.prototype.toString.apply(myArray) === "[object Array]") {
  // myArray is truly an array
}
      </code>
    </pre>

    <aside class="notes">
      <ul>
        <li>Javascript heeft geen arrays, het heeft hashtables.</li>
        <li>Het is iets trager maar je krijgt geen index out of bouns errors bijvoorvbeeld</li>
        <li>Het is iets moeilijker om te gaan checken of je array wel effectief een array voorsteld.</li>
      <ul>
    </aside>
  </section>
  <section>
    <h2>Reserved Words</h2>
    <blockquote>
      <small>
        break, case, class, catch, const, continue, debugger, default, delete, do, else, export, extends, finally, for, function, if, import, in, instanceof, let, new, return, super, switch, this, throw, try, typeof, var, void, while, with, yield
        enum, await, implements, package, protected, static, interface, private, public, abstract, boolean, byte, char, double, final, float, goto, int, long, native, short, synchronized, transient, volatile
      </small>
    </blockquote>

    <pre>
      <code data-trim contenteditable>
var method; // Ok
var class; // Illegal
var object = {
  box: "value", // Ok
  case: "value", // Illegal
  "case": "value" // Ok
}
object.box = "another value"; // Ok
object.case = "another value"; // Illegal
object["case"] = "another value"; // Ok
      </code>
    </pre>

    <aside class="notes">
      <ul>
        <li>Javascript heeft een gigantische lijst met gereserveerde woorden.</li>
        <li>als je die woorden gebruikt als naam van een variabele of als naam van een key op een object, crahed u app</li>
      <ul>
    </aside>
  </section>

  <section>
    <h2>false, null, undefined, NaN, 0, ""</h2>
    <pre>
      <code data-trim contenteditable>
false == null; // false
false == undefined; // false
false == NaN; // false
false == 0; // true
false == ""; // true

null == NaN // false
null == 0 // false
null == "" // false
null == undefined // true

undefined == NaN // false
undefined == 0 // false
undefined == "" // false

0 == "" //true
      </code>
    </pre>

    <aside class="notes">
      <ul>
        <li>Als je deze waarden in if statements zou zetten, zouden ze false weergeven.</li>
        <li>Gecombineerd met de type coertion opperators is dit een slecht idee</li>
      <ul>
    </aside>
  </section>

  <section>
    <h2>OMG! More bad parts!</h2>

    <ul class="fragment fade-in">
      <li style="padding: 2px 0;">NaN</li>
      <li style="padding: 2px 0;">Floating point</li>
      <li style="padding: 2px 0;">hasOwnProperty</li>
      <li style="padding: 2px 0;">With Statement</li>
      <li style="padding: 2px 0;">Eval <small>is as evil as in php</small></li>
      <li style="padding: 2px 0;">Bitwise operators</li>
      <li style="padding: 2px 0;">Typed wrappers</li>
      <li style="padding: 2px 0;">new</li>
      <li style="padding: 2px 0;">void</li>
    </ul>

    <aside class="notes">
      <ul>
        <li>The void operator evaluates the given expression and then returns undefined.</li>
      <ul>
    </aside>

  </section>
</section>
                  <section>
  <section>
    <h2>JSHint <small>NOT jslint</small></h2>
    <ul>
      <li style="padding: 2px 0;" class="fragment fade-in"><a href="http://www.jshint.com/">JSHint</a> flags suspicious usage.</li>
      <li style="padding: 2px 0;" class="fragment fade-in">community driven <a href="https://www.npmjs.org/package/jshint">npm module</a></li>
      <li style="padding: 2px 0;" class="fragment fade-in">It detects those bad parts.</li>
      <li style="padding: 2px 0;" class="fragment fade-in">Configuration levels</li>
      <li style="padding: 2px 0;" class="fragment fade-in">Build tool integration.</li>
      <li style="padding: 2px 0;" class="fragment fade-in">Immediate indication in editor</li>

      <aside class="notes">
        <ul>
          <li>JSHint is niet gelijk aan JSLint, JSHint is door de community gemaakt maar is wel gebaseerd op douglas Crockford.</li>
          <li>JSHint is een code quality checker die aan de hand van bepaalde flags verdachte of slechte code gaat aanduiden.</li>
          <li>Configuratie kan op 3 niveau's</li>
          <li>Kan geintegreerd worden in build tools en zelfs in je code editor</li>
        <ul>
    </aside>
    </ul>
  </section>

  <section>
    <h2>Installation</h2>

    <blockquote>
      npm install jshint -g
    </blockquote>
  </section>

  <section>
    <h2>Configuration</h2>
    <ul>
      <li style="padding: 2px 0;">via the <i>--config</i> flag from the command line</li>
      <li style="padding: 2px 0;">In <a>package.json</a> under <a>jshintConfig</a> key</li>
      <li style="padding: 2px 0;">In a <a>.jshintrc</a> file in your project folder</li>
    </ul>
  </section>

  <section>
    <h2>Indication</h2>
    <h3>Sublime Text 3</h3>
    <ul>
      <li style="padding: 2px 0;">Install <a href="http://www.jshint.com/">JSHint</a></li>
      <li style="padding: 2px 0;">Install <a href="http://www.sublimelinter.com/en/latest/">Sublime linter</a></li>
      <li style="padding: 2px 0;">Install <a href="https://github.com/SublimeLinter/SublimeLinter-jshint">JSHint plugin</a>, <a href="https://github.com/SublimeLinter">plugin list</a> for other languages.</li>
      <li style="padding: 2px 0;">You can lint: json, html5, php, css, etc</li>
    </ul>
    <img src="https://dl.dropboxusercontent.com/u/7422112/screenshots/Screen%20Shot%202014-09-25%20at%2010.58.33.png" height="300" alt="screen">
  </section>

  <section>
    <h2>Flags</h2>
    <ul>
      <li>option <a href="http://www.jshint.com/docs/options/">list</a></li>
    </ul>

    <pre><code data-trim contenteditable>
{
    "browser": true,
    "bitwise": true,
    "white": true,
    "devel": true,
    "curly": true,
    "eqeqeq": true,
    "forin": true,
    "immed": true,
    "indent": 2,
    "latedef": true,
    "newcap": true,
    "noarg": true,
    "quotmark": true,
    "regexp": true,
    "undef": true,
    "unused": true,
    "trailing": true,
    "smarttabs": true,
    "jquery": true,
    "predef": [
        "Drupal",
        "$",
        "Modernizr",
        "_",
        "bowser",
        "settings",
        "context"
    ]
}
    </code>
  </pre>
  </section>
</section>
                  <section>
  <section>
    <h2>Detecting JavaScript code smell</h2>
    <img src="http://memecrunch.com/meme/1D8CY/what-s-that-smell/image.png?w=400&c=1" alt="smell">
  </section>

  <section>
    <h2>What's the harm?</h2>
    <ul>
      <li><a>debugging</a> is harder</li>
      <li><a>maintainability</a> suffers</li>
      <li><a>features</a> are harder to add</li>
    </ul>
  </section>

  <section class="oneliner">
    <br><br><br>
    <h2>The Smell: Repetitive&nbsp;Code</h2>
    <p>The Fix: <a>Functions</a></p>
  </section>

  <section>
    <h3>Smelly</h3>
    <script type="data/example" src="examples/dry-functions/smelly.js"></script>
  </section>

  <section>
    <h3>Minty</h3>
    <script type="data/example" src="examples/dry-functions/minty.js"></script>
  </section>

  <section>
    <h3>Opportunity</h3>
    <script type="data/example" src="examples/dry-functions/opportunity.js"></script>
  </section>

  <section class="oneliner">
    <h2>The Smell: Repetitive&nbsp;Code</h2>
    <p>The Fix: <a>Objects</a></p>
  </section>

  <section>
    <h3>Smelly</h3>
    <script type="data/example" src="examples/dry-objects/smelly.js"></script>
  </section>

  <section>
    <h3>Minty</h3>
    <script type="data/example" src="examples/dry-objects/minty.js"></script>
  </section>

  <section>
    <h3>Opportunity</h3>
    <script type="data/example" src="examples/dry-objects/opportunity.js"></script>
  </section>

  <section class="oneliner">
    <h2>The Smell: Generated&nbsp;IDs</h2>
    <p>The Fix: <a>Closures</a></p>
  </section>

  <section>
    <h3>Smelly</h3>
    <script type="data/example" src="examples/numbered-things/smelly.js"></script>
  </section>

  <section>
    <h3>Minty</h3>
    <script type="data/example" src="examples/numbered-things/minty.js"></script>
  </section>

  <section>
    <h3>Opportunity</h3>
    <script type="data/example" src="examples/numbered-things/opportunity.js"></script>
  </section>

  <section class="oneliner">
    <h2>The Smell: Excessive ifs</h2>
    <p>The Fix: Using build in functions</p>
  </section>

  <section>
    <h3>Smelly</h3>
    <script type="data/example" src="examples/excessive-ifs/smelly.js"></script>
  </section>

  <section>
    <h3>Minty</h3>
    <script type="data/example" src="examples/excessive-ifs/minty.js"></script>
  </section>


  <section class="oneliner">
    <h2>The Smell: <br>Async Acrobatics</h2>
    <p>The Fix: Deferreds</p>
  </section>

  <section>
    <h3>Smelly</h3>
    <script type="data/example" src="examples/deferreds/smelly.js"></script>
  </section>

  <section>
    <h3>Minty</h3>
    <script type="data/example" src="examples/deferreds/minty.js"></script>
  </section>

  <section>
    <h3>Opportunity</h3>
    <script type="data/example" src="examples/deferreds/opportunity.js"></script>
  </section>

  <section class="oneliner">
    <h2>The Smell: HTML <br>in Your JavaScript</h2>
    <p>The Fix: Templates</p>
  </section>

  <section>
    <h3>Smelly</h3>
    <script type="data/example" src="examples/templates/smelly.js"></script>
  </section>

  <section>
    <h3>Minty</h3>
    <script type="data/example" src="examples/templates/minty.js"></script>
  </section>
</section>

                  <section>
  <img src="http://kaleeraisor.com/wp-content/uploads/2013/11/bad-code-joke.jpg" alt="Kitten" style="height: 600px">
</section>

<section>
  <h1>Thank you</h1>
  <h2>Questions?</h2>
  <br>

  <p>Recommended Books:</p>
  <blockquote>
    <a href="http://www.amazon.com/JavaScript-Good-Parts-Douglas-Crockford/dp/0596517742">JavaScript: The Good Parts</a> by Douglas Crockford and <br>
    <a href="http://shop.oreilly.com/product/9780596806767.do">JavaScript Paterns</a> by Stoyan Stefanov and <br>
    <a href="http://shop.oreilly.com/product/0636920024699.do">Testable JavaScript</a> by Mark Ethan Trostler
  </blockquote>
</section>
              </div>
    </div>

    <script src="lib/js/head.min.js"></script>
    <script src="js/reveal.min.js"></script>
    <script src="js/jquery.min.js"></script>

    <script>
      Reveal.initialize({
        controls: true,
        progress: true,
        history: true,
        center: true,

        theme: "night", // available themes are in /css/theme
        transition: 'default', // default/cube/page/concave/zoom/linear/fade/none

        // Parallax scrolling
        // parallaxBackgroundImage: 'https://s3.amazonaws.com/hakim-static/reveal-js/reveal-parallax-1.jpg',
        // parallaxBackgroundSize: '2100px 900px',

        // Optional libraries used to extend on reveal.js
        dependencies: [
          { src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
          { src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
          { src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
          { src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
          { src: 'plugin/zoom-js/zoom.js', async: true, condition: function() { return !!document.body.classList; } },
          { src: 'plugin/notes/notes.js', async: true, condition: function() { return !!document.body.classList; } }
        ]
      });
    </script>

    <script>
      $('script[type="data/example"]').each(function() {
        var script = $(this);
        var src = script.attr('src');
        var div = script.parent();

        var dest = $('<pre class="language-javascript">');
        var code = $('<code contenteditable="true">').appendTo(dest);

        $.ajax(src, { dataType : 'text'}).done(function(content) {
          code.text(content);
          setTimeout(function(){window.hljs.highlightBlock( dest.appendTo(div)[0] )},1000);
        });

      });
    </script>
  </body>
</html>
