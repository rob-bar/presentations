!function(a,b){"function"==typeof define&&define.amd?define(["underscore","backbone","hammer"],function(c,d){b(a,c,d)}):b(a,a._,a.Backbone)}(this,function(a,b,c){var d=c.$;if(!d.fn.hammer)throw new Error("Hammer jQuery plugin not loaded.");var e=/^(\S+)\s*(.*)$/,f=["hammerEvents","hammerOptions"],g=c.View,h=g.prototype.delegateEvents,i=g.prototype.undelegateEvents;c.View=g.extend({constructor:function(a){return a=a||{},b.extend(this,b.pick(a,f)),g.apply(this,arguments)},_hammered:!1,undelegateEvents:function(){return this.undelegateHammerEvents(),i.apply(this,arguments)},undelegateHammerEvents:function(){return this._hammered&&this.hammer().off(".hammerEvents"+this.cid),this},delegateEvents:function(){return h.apply(this,arguments),this.delegateHammerEvents(),this},delegateHammerEvents:function(a){var d=b.defaults(this.hammerOptions||{},c.hammerOptions);if(!a&&!(a=b.result(this,"hammerEvents")))return this;this.undelegateHammerEvents();for(var f in a){var g=a[f];if(b.isFunction(g)||(g=this[a[f]]),g){var h=f.match(e),i=h[1],j=h[2];i+=".hammerEvents"+this.cid,g=b.bind(g,this),""===j?this.hammer(d).on(i,g):this.hammer(d).on(i,j,g)}}return this},hammer:function(a){return this._hammered=!0,this.$el.hammer(a)}})});
